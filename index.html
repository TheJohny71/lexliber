<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LexLiber Search Test</title>
</head>
<body>
    <h1>LexLiber Search Test</h1>
    <input type="text" id="searchInput" placeholder="Enter search term...">
    <button id="searchButton">Search</button>
    <div id="results"></div>

    <script>
    console.log("Script started");

    let books = [
        { "Title": "Sample Book 1", "Author": "John Doe" },
        { "Title": "Sample Book 2", "Author": "Jane Smith" }
    ];

    function searchBooks() {
        console.log("Search function called");
        const searchTerm = document.getElementById("searchInput").value.toLowerCase();
        const resultsDiv = document.getElementById("results");
        resultsDiv.innerHTML = "";

        const filteredBooks = books.filter(book => 
            book.Title.toLowerCase().includes(searchTerm) || 
            book.Author.toLowerCase().includes(searchTerm)
        );

        if (filteredBooks.length === 0) {
            resultsDiv.innerHTML = "<p>No results found.</p>";
        } else {
            filteredBooks.forEach(book => {
                const bookDiv = document.createElement("div");
                bookDiv.innerHTML = `<p>${book.Title} by ${book.Author}</p>`;
                resultsDiv.appendChild(bookDiv);
            });
        }
    }

    function init() {
        console.log("Initializing...");
        const searchButton = document.getElementById("searchButton");
        
        if (searchButton) {
            searchButton.addEventListener("click", searchBooks);
            console.log("Search button listener added");
        } else {
            console.error("Search button not found");
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        console.log("DOM fully loaded");
        init();
    });

    console.log("Script finished");
    </script>
</body>
</html>
