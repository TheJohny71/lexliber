<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LexLiber</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f7f7;
        }
        header {
            background-color: #00a68e;
            color: white;
            padding: 1rem;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #logo {
            height: 50px;
            margin-right: 1rem;
        }
        main {
            max-width: 800px;
            margin: 2rem auto;
            padding: 1rem;
        }
        #search-form {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        input, select, button {
            padding: 0.5rem;
            font-size: 1rem;
        }
        #search-input {
            flex-grow: 1;
        }
        button {
            background-color: #00a68e;
            color: white;
            border: none;
            cursor: pointer;
        }
        #results {
            background-color: white;
            padding: 1rem;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <header>
        <img src="lexliber-logo.png.jpg" alt="LexLiber Logo" id="logo">
        <h1>LexLiber</h1>
    </header>
    <main>
        <form id="search-form">
            <input type="text" id="search-input" placeholder="Search by title, call number, author, or keyword">
            <select id="practice-area">
                <option value="">All Practice Areas</option>
            </select>
            <button type="submit">Search</button>
        </form>
        <div id="results"></div>
    </main>
    <script>
        // Load book data from JSON file
        let books = [];
        fetch('Sheet1 (2).json')
            .then(response => response.json())
            .then(data => {
                books = data;
                populatePracticeAreas();
            })
            .catch(error => console.error('Error loading book data:', error));

        function populatePracticeAreas() {
            const practiceAreas = new Set(books.map(book => book['Practice Area']));
            const select = document.getElementById('practice-area');
            practiceAreas.forEach(area => {
                const option = document.createElement('option');
                option.value = area;
                option.textContent = area;
                select.appendChild(option);
            });
        }

        // Handle search form submission
        document.getElementById('search-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const practiceArea = document.getElementById('practice-area').value;
            
            const results = books.filter(book => 
                (book.Title.toLowerCase().includes(searchTerm) ||
                 book.Author.toLowerCase().includes(searchTerm) ||
                 book['Call Number'].toLowerCase().includes(searchTerm)) &&
                (practiceArea === '' || book['Practice Area'] === practiceArea)
            );

            displayResults(results);
        });

        function displayResults(results) {
            const resultsDiv = document.getElementById('results');
            if (results.length === 0) {
                resultsDiv.innerHTML = '<p>No results found.</p>';
                return;
            }

            let html = '<ul>';
            results.forEach(book => {
                html += `
                    <li>
                        <h3>${book.Title}</h3>
                        <p>Author: ${book.Author}</p>
                        <p>Call Number: ${book['Call Number']}</p>
                        <p>Practice Area: ${book['Practice Area']}</p>
                        <p>Collection Location: ${book['Collection Location']}</p>
                        <p>Item Status: ${book['Item Status']}</p>
                    </li>
                `;
            });
            html += '</ul>';
            resultsDiv.innerHTML = html;
        }
    </script>
</body>
</html>
